---
layout: post
title: 📄 백준 15900번 - 나무 탈출
date: 2022-07-01 20:35:24 +0900
published: true
categories: [algorithm, baekjoon]
tags: [algorithm, baekjoon, dfs]
---

## **📄 문제 소개**

![image](https://user-images.githubusercontent.com/6462456/176881203-d81195ea-a4a8-4bdb-9f63-1ebe12aeb202.png)
_백준 15900번 : 나무 탈출_

링크 : [https://www.acmicpc.net/problem/15900](https://www.acmicpc.net/problem/15900)

성원과 형석의 눈물 나는 스토리라인이 길게 설명되어 있어 복잡하지만  
요점만 정리하면 게임의 규칙은 아래와 같다.  

1. 게임은 N개의 트리의 리프 노드에만 게임말이 위치한 상태에서 시작
2. 순서대로 한 개씩 게임말을 연결된 부모 노드로 옮길 수 있음  
_(하나의 노드 위에 여러 게임말이 겹칠 수 있음)_
3. 루트 노드에 도착한 게임말은 제거되어야 함
4. 마지막 남은 게임말을 루트 노드에 도달시킨 사람이 **승리**

위의 게임 규칙을 기반으로 현재 트리 구성 정보가 주어졌을 때, 성원이의
입장에서 게임을 먼저 시작해서 이길 수 있는지를 알아내면 되는 문제이다.  

## **📗 문제풀이 과정**

### **🧐 일단 생각해 볼 것**

게임 설명이 다소 난해하다고 느껴지는 면이 있어서 헷갈릴 수 있지만,  
아래 두가지 점을 주목하면 매우 간단하게 풀릴 수 있는 문제이다.  

1. 각 게임말은 한 노드에 겹쳐 놓을 수 있다.
2. 각 게임말은 한 번에 한 칸(연결된 부모 노드)만 이동 가능하다.
3. 성원이가 먼저 플레이한다.

어떤 게임말을 먼저 건드릴지와 상관 없이 게임을 이기는 사람은
결국 **모든 리프 노드로부터 루트 노드로의 간선 합**만큼 플레이하게 된다.  

![image](https://user-images.githubusercontent.com/6462456/176888331-8d0f2806-2c62-4daa-b9f0-c18e850415e7.png)

그림을 그려 보면, 먼저 플레이하는 성원이의 입장에서는
이기기 위해서는 **모든 리프 노드로부터 루트 노드로의 간선 합**이
**홀수**가 되어야 한다는 것을 알 수 있다.  

### **😀 DFS(깊이 우선 탐색)를 이용한 전략**

![image](https://user-images.githubusercontent.com/6462456/176888652-3a4ca929-dd52-4fb6-9b88-a8f4c3487b80.png)

입력으로 최대 **5 * 10^5**만큼의 노드로 트리가 구성될 수 있다고 했으므로
루트 노드로부터 리프 노드로의 DFS를 한 번 수행해 간선의 합을 계산하면
문제를 해결할 수 있다.  

### **😉 코드로 나타내면..? (재귀 함수 사용)**

그러나...  

## **💻 코드**

## **📒 연관 개념**

> -   DFS(깊이 우선 탐색)